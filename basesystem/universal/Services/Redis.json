{
    "name": "Redis",
    "reportAllInfos": false,
    "install": {
        "commands": ["sofin get redis"],
        "expectStdOut": ["Preparing application: Redis", "All done."],
        "expectOutputTimeout": 90
    },
    "configure": {
        "commands": [
            "test ! -d SERVICE_PREFIX/database && mkdir -p SERVICE_PREFIX/database",
            "test ! -f SERVICE_PREFIX/service.conf && printf '
# Default Redis service configuration
port SERVICE_PORT
pidfile SERVICE_PREFIX/service.pid
dir SERVICE_PREFIX/database
dbfilename database.rdf
daemonize yes
rdbcompression yes
save 900 1
save 300 10
save 60 10000
appendonly no
appendfsync everysec
activerehashing yes
' > SERVICE_PREFIX/service.conf"]
    },
    "start": {
        "commands": ["redis-server SERVICE_PREFIX/service.conf"]
    },
    "stop": {
        "commands": ["kill $(cat SERVICE_PREFIX/service.pid)"]
    }
}