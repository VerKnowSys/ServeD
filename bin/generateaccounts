#!/bin/sh

pwd=$(pwd)
jar="${pwd}/svd.core/target/scala_2.9.0/core_2.9.0-1.0-onejar.jar"

if [ "$(id -u)" != "0" ]; then
    echo "ServeD Account Collector requires root privileges to run!"
    exit 1
fi

echo "Executing: ${jar}"
java -d32 -XX:MaxPermSize=512M -XX:+UseParallelGC -Xms64m -Xmx768m -Dfile.encoding=UTF-8 -noverify -client -Djna.library.path=$(pwd)/lib -Djava.library.path=$(pwd)/lib -cp "$(cat tmp/core.classpath)" com.verknowsys.served.SvdAccountCollector "$@"
