#!/bin/sh

unset SBT_OPTS
unset JAVA_OPTS

export SBT_OPTS=" -d32 -XX:MaxPermSize=768m -Xms256m -Xmx1400m -server -XX:+UseParNewGC -XX:+CMSClassUnloadingEnabled -XX:+AggressiveOpts"
# -XX:ReservedCodeCacheSize=256m  -XX:MaxPermSize=512m

#  -XX:+UseConcMarkSweepGC
# -XX:ReservedCodeCacheSize=256m \
# ${SBT_OPTS} \
# -XX:+UseConcMarkSweepGC \
# -XX:+CMSClassUnloadingEnabled \
# -XX:+AggressiveOpts \
# -XX:MaxPermSize=512m \
# -Xms256m \

exec java \
-d32 \
-XX:MaxPermSize=768m \
-XX:+UseParNewGC \
-XX:+CMSClassUnloadingEnabled \
-XX:+AggressiveOpts \
-Djna.library.path=$(pwd)/lib \
-Dfile.encoding=UTF-8 \
-Xmx1400m \
-server \
-javaagent:/lib/jrebel/jrebel.jar \
-jar $(dirname $0)/../vendor/sbt-launch.jar "$@"
