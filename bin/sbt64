#!/bin/sh

unset SBT_OPTS
unset JAVA_OPTS
# export SBT_OPTS=" -XX:ReservedCodeCacheSize=512m -Xmx2g -XX:PermSize=1g -javaagent:/lib/jrebel/jrebel.jar -XX:+UseCompressedOops"
# -Dcom.sun.management.jmxremote=true \
# -Dcom.sun.management.jmxremote.ssl=false \
# -Dcom.sun.management.jmxremote.authenticate=false \
# -XX:+UseConcMarkSweepGC \

exec java \
-d64 \
-Xss128k \
-XX:MaxPermSize=1g \
-XX:+UseParNewGC \
-XX:+CMSClassUnloadingEnabled \
-XX:+AggressiveOpts \
-XX:+UseFastAccessorMethods \
-XX:+UseStringCache \
-XX:+OptimizeStringConcat \
-XX:+UseBiasedLocking \
-XX:ParallelGCThreads=20 \
-Djna.library.path=$(pwd)/lib \
-Dfile.encoding=UTF-8 \
-server \
-javaagent:/lib/jrebel/jrebel.jar \
-jar $(dirname $0)/../vendor/sbt-launch.jar "$@"
