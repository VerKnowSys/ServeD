#!/bin/sh

unset SBT_OPTS
unset JAVA_OPTS
export SBT_OPTS=" -XX:ReservedCodeCacheSize=512m -Xmx2g -XX:PermSize=1g -javaagent:/lib/jrebel/jrebel.jar -XX:+UseCompressedOops"

# -Dcom.sun.management.jmxremote=true \
# -Dcom.sun.management.jmxremote.ssl=false \
# -Dcom.sun.management.jmxremote.authenticate=false \
# -XX:+UseConcMarkSweepGC \

exec java \
-d64 \
-XX:ReservedCodeCacheSize=512m \
-XX:+CMSClassUnloadingEnabled \
-XX:+DoEscapeAnalysis \
-XX:+UseCompressedOops \
-Djna.library.path=$(pwd)/lib \
-XX:+AggressiveOpts \
-XX:PermSize=512m \
-Xms512m \
-Xmx2g \
-jar $(dirname $0)/../vendor/sbt-launch.jar "$@"
